import{a as b,d as P}from"/dist/c/c-CCLRE5PE.js";import{b as T,e as S}from"/dist/c/c-L7T2PT5A.js";import{r as y,v as j}from"/dist/c/c-ELKS2YNU.js";import{f as c,g as k}from"/dist/c/c-6VKWMR33.js";import{D as g,E as w,F as G}from"/dist/c/c-NPM6MT5S.js";import{a as R}from"/dist/c/c-3JZSAYWT.js";import{a as h,d as C}from"/dist/c/c-TAHBUCPV.js";var v,z,B,I,L,M,O,_,u=h(()=>{"use strict";v=C(R());j();S();k();P();G();z=y("input")`
  opacity: 0;
  visibility: hidden;
  position: absolute;
  cursor: pointer;
  width: 0;
  left: 0;
`,B=i=>i.isDirectory,I=i=>i.isFile,L=(i,s)=>{let e=[],o=()=>{i.readEntries(l=>{if(l.length)e=e.concat(l),o();else return s(e)})};o()},M=async i=>{let s=[],e=0;return new Promise(o=>{let l=r=>{if(B(r)){let a=r.createReader();e++,L(a,f=>{e--,f.forEach(m=>{if(l(m),e<=0)return o(s)})})}I(r)&&(e++,r.file(a=>{if(e--,s.push(a),e<=0)return o(s)}))};for(let r=0;r<i.length;r++){let a=i[r].webkitGetAsEntry();a&&l(a)}})},O=(0,v.forwardRef)(({children:i,id:s="rm-file-upload",readFileData:e=!0,dropFile:o=!1,name:l,onChange:r,onChangeMultiple:a,disabled:f,textStyle:m,multiple:p,...x},D)=>{let F=async t=>{if(t.target.files)if(p)a&&a(Array.from(t.target.files));else{let n=t.target.files[0],d=e?await c(n):null;r&&r(n,d)}},E=async t=>{t.preventDefault();let n;if(p){if(t.dataTransfer?.items?.[0]&&"webkitGetAsEntry"in t.dataTransfer.items[0]?n=await M(t.dataTransfer.items):t.dataTransfer.files&&t.dataTransfer.files.length&&(n=Array.from(t.dataTransfer.files)),!n)return;a&&a(n)}else{let d=t.dataTransfer.files?.[0],A=e?await c(d):null;r&&r(d,A)}};return w(T,{ref:D,as:"label",htmlFor:s,disabled:f,cursor:"pointer",onDrop:t=>o&&E(t),onDragOver:t=>o&&t.preventDefault(),...m,children:[i,g(z,{type:"file",name:l||s,id:s,style:{opacity:0,visibility:"hidden",position:"absolute",cursor:"pointer",width:0,left:0},onChange:F,multiple:!!p,disabled:f,...x})]})}),_=b.withComponent(O)});var q=h(()=>{"use strict";u();u()});export{_ as a,q as b};
