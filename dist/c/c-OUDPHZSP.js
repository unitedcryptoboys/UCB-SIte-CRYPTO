import{a as d}from"/dist/c/c-S4L463HQ.js";import{a as h,b as c}from"/dist/c/c-AN7TIBKU.js";import"/dist/c/c-NYNQODKR.js";import"/dist/c/c-YVETZ4Y2.js";import"/dist/c/c-GJIO3EWD.js";import"/dist/c/c-NENNBZMZ.js";import{a,b as u}from"/dist/c/c-4NWW3YK7.js";import"/dist/c/c-5OV52NZH.js";import"/dist/c/c-PIN4LZBS.js";import"/dist/c/c-F76JX3LG.js";import"/dist/c/c-ZCDN2C4Y.js";import"/dist/c/c-IHRDIBRL.js";import"/dist/c/c-JSCH46PO.js";import"/dist/c/c-MWJHPFEJ.js";import"/dist/c/c-7OAKJDUS.js";import"/dist/c/c-Q7L6TC6B.js";import"/dist/c/c-POUJ35QD.js";import"/dist/c/c-NFJ4PGVD.js";import"/dist/c/c-X3IXKJUF.js";import"/dist/c/c-Q7JB42OK.js";import"/dist/c/c-CCCQQLS7.js";import"/dist/c/c-RFMEDZC2.js";import"/dist/c/c-DDUQR2DR.js";import"/dist/c/c-MSBTLOXM.js";import"/dist/c/c-ERSFEUJG.js";import"/dist/c/c-CXFUNZH6.js";import"/dist/c/c-3OF2VW3S.js";import"/dist/c/c-P4X5POBL.js";import"/dist/c/c-NMSI6VX3.js";import"/dist/c/c-S4OGJYSK.js";import"/dist/c/c-67K7TJ5V.js";import"/dist/c/c-PQYQE4WJ.js";import"/dist/c/c-CUR76AAO.js";import"/dist/c/c-NZOAJRZB.js";import"/dist/c/c-4HYJT33R.js";import"/dist/c/c-SVF5UPD7.js";import"/dist/c/c-7WQ7VLJU.js";import"/dist/c/c-HY3BYE7A.js";import"/dist/c/c-CCLRE5PE.js";import"/dist/c/c-6V26Y4N6.js";import{o,p as w}from"/dist/c/c-YWMSYINN.js";import"/dist/c/c-C63XTUXK.js";import"/dist/c/c-MTEWFZUN.js";import"/dist/c/c-HMG3J5I6.js";import"/dist/c/c-UV2AUEPO.js";import"/dist/c/c-ZICVJFZS.js";import"/dist/c/c-UKX3XYO7.js";import"/dist/c/c-QURGWM6Y.js";import"/dist/c/c-DHW7ZCWP.js";import"/dist/c/c-L7T2PT5A.js";import"/dist/c/c-ELKS2YNU.js";import"/dist/c/c-DM5RC5UP.js";import"/dist/c/c-CZDWWIWZ.js";import"/dist/c/c-6VKWMR33.js";import"/dist/c/c-SMKXZXXM.js";import"/dist/c/c-NPM6MT5S.js";import"/dist/c/c-3JZSAYWT.js";import"/dist/c/c-IG4XOXEB.js";import"/dist/c/c-OHFRQC2M.js";import"/dist/c/c-U2FTHHN5.js";import"/dist/c/c-UEIEIK52.js";import{b as m}from"/dist/c/c-2IW6BEWA.js";import"/dist/c/c-BYDCJ7X5.js";import"/dist/c/c-CSPQ5T3S.js";import{d as _}from"/dist/c/c-TAHBUCPV.js";var i=_(m());u();w();c();var p=d.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-twitter"),this.rendered=!0;let e,t;return this.current_type?(t=this[this.current_type],t.use_own_url==="mag"?t.url=this.page.mag.getUrl():(t.use_own_url==="page"||!t.url)&&(t.url=this.page.getUrl()),RM.screenshot||(t.text=a.getFinalShare(this.page,i.default.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:t.use_own_url==="mag",customDomain:RM.common.isDomainViewer}).tweet),e=h["template-constructor-block-twitter-"+this.current_type],this.$el.html(e(t)),this.current_type==="type_timeline"&&this.$el.find("a").attr({width:this.w,height:this.h}),o.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.default.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.default)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){let e,t=0,r,n=!1,s,l={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(e),e=setInterval(i.default.bind(function(){if(t++,this.destroyed){clearInterval(e);return}r=this.$el.find("iframe"),r.length==1&&(s=l[this.current_type],n=r.contents().find(s).length>0),(n||t>this.CONTENT_WAIT_MAX_TICKS)&&(this.current_type=="type_embed"&&r.css({margin:0,"max-width":"100%"}),this.current_type=="type_timeline"&&r.css({width:"100%",height:"100%!important","max-width":"100%"}),clearInterval(e),setTimeout(i.default.bind(function(){this.widgetIsLoaded()},this),this.CONTENT_IMG_WAIT))},this),this.CONTENT_WAIT_TICK)}}),y=p;export{y as default};
